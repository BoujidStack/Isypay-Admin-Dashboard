import{r,u as f,j as s}from"./index-BjBmCwfe.js";import{C as g,a as n}from"./index.es-D8vWB1ER.js";import{C as i}from"./CRow-Ca78h0Ca.js";import{C as c}from"./CCol-UXmIqlUw.js";import{C as y}from"./CCardGroup-D4Xh32tk.js";import{C as w}from"./CCard-BiUwwZM0.js";import{C as N}from"./CCardBody-Dndt7UCt.js";import{C as v}from"./CForm-BmOsrwsZ.js";import{C as m,a as l}from"./CInputGroupText-DFZ3nx33.js";import{c as S}from"./cil-user-Ddrdy7PS.js";import{C as d}from"./CFormInput-OZU6N75C.js";import{c as b}from"./cil-lock-locked-DmxpJbVL.js";import{a as k}from"./CButton-D0B4AAkt.js";import"./CFormControlWrapper-CzZJZQ1L.js";import"./CFormControlValidation-DOUzBcFA.js";import"./CFormLabel-CAfKkYww.js";const D=()=>{const[a,p]=r.useState(""),[o,h]=r.useState(""),[t,x]=r.useState(""),C=f(),u=async()=>{try{const e=await fetch("https://api.staging.k8s.isypay.net/api/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:o})});if(!e.ok)throw new Error("Invalid credentials");const j=await e.json();localStorage.setItem("token",j.id_token),C("/dashboard",{state:{loginSuccess:!0}})}catch(e){x(e.message)}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(g,{children:s.jsx(i,{className:"justify-content-center",children:s.jsx(c,{md:8,children:s.jsx(y,{children:s.jsx(w,{className:"p-4",children:s.jsx(N,{children:s.jsxs(v,{children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),t&&s.jsx("p",{className:"text-danger",children:t}),s.jsxs(m,{className:"mb-3",children:[s.jsx(l,{children:s.jsx(n,{icon:S})}),s.jsx(d,{placeholder:"Username",autoComplete:"username",value:a,onChange:e=>p(e.target.value)})]}),s.jsxs(m,{className:"mb-4",children:[s.jsx(l,{children:s.jsx(n,{icon:b})}),s.jsx(d,{type:"password",placeholder:"Password",autoComplete:"current-password",value:o,onChange:e=>h(e.target.value)})]}),s.jsx(i,{children:s.jsx(c,{xs:6,children:s.jsx(k,{color:"primary",className:"px-4",onClick:u,children:"Login"})})})]})})})})})})})})};export{D as default};
